
<!-- Show the system when online, here for performance and pre-load -->
<article  ng-if="state && state !== 'shutdown'" co-bind="'pages'">
    <header co-bind="'name'">
        <div class="logo"><div></div></div>

        <div class="tray" ng-controller="Modals">

            <span class="name">{{name}}</span>

            <!-- Support for tray icons is here if we ever need them -->
        </div>
    </header>

    <div co-bind="'tabs'">
        <div co-bind="'tab'" exec>
            <!-- Tabs -->
            <tabs current="tab" auto-select="false">
                <pane ng-repeat="tabType in tabs[state]" title="{{pages[tabType].title}}" icon="{{tabType}}" name="tabType">
                    <div ng-include="'components/main/' + tabType + '/' + tabType + '.html'">
                    </div>
                </pane>
            </tabs>

            <div ng-controller="Modals">
                <div ng-if="state === 'client'" ng-init="showModal('welcome')"></div>
                <modal name="welcome" title="Code Accepted">
                    <p>Enjoy your meeting.<br /><br />If you need any assistance at all please contact us via the Help and Support tab.</p>
                    <menu>
                        <button class="ok" 
                                ng-touch="coModuleInstance.$exec('tab', 'vision'); closeModal('welcome')">
                            Continue
                        </button>
                    </menu>
                    <div style="clear: both"></div>
                </modal>
            </div>
        </div>
    </div>
</article>
